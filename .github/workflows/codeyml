name: testing workflow-dispatch
on:
  workflow_dispatch:
    inputs:
      chosen_os:
        description: "Runner OS"
        required: true
        type: choice
        options: [ubuntu-latest, macos-latest, windows-latest]
      environment:
        description: "Target environment"
        required: true
        type: choice
        options: [development, staging, production]

jobs:
  test:
    runs-on: ${{ inputs.chosen_os }}
    steps:
      - run: echo "Hello world!"

      # POSIX shells for ubuntu/macos
      - name: Show choices (POSIX)
        if: runner.os != 'Windows'
        shell: bash
        run: |
          echo "OS: ${{ inputs.chosen_os }}"
          echo "Env: ${{ inputs.environment }}"

      # PowerShell on Windows
      - name: Show choices (Windows)
        if: runner.os == 'Windows'
        shell: pwsh
        run: |
          echo "OS: ${{ inputs.chosen_os }}"
          echo "Env: ${{ inputs.environment }}"
